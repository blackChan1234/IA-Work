<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.2/angular.min.js"></script>
    <link rel="stylesheet" href="style/menu.css">
    <link rel="stylesheet" href="style/menuPicFrame.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script>
        function HamburgerMenu() {
            var x = document.getElementById("Links");
            if (x.style.display === "block") {
                x.style.display = "none";
            } else {
                x.style.display = "block";
            }
        }

        var app = angular.module("myApp", []);

        app.controller("LinkController", function($scope) {
            $scope.links = [
                {
                    "text": "News",
                    "href": "#news"
                },
                {
                    "text": "Contact",
                    "href": "#contact"
                },
                {
                    "text": "About",
                    "href": "#about"
                },
                {
                    "text": "Login",
                    "href": "#login"
                }
            ];
        });
    </script>
</head>
<body ng-app="myApp">
    
    <!-- Top Navigation Menu -->
    <div class="topnav">
        <a href="#home" class="active">Logo</a>
        <!-- Navigation links (hidden by default) -->
        <div ng-controller="LinkController">
            <div id="Links">
                <a ng-repeat="link in links" ng-href="{{link.href}}">{{link.text}}</a>
            </div>
        </div>
        <!-- "Hamburger menu" / "Bar icon" to toggle the navigation links -->
        <a href="javascript:void(0);" class="icon" onclick="HamburgerMenu()">
            <i class="fa fa-bars"></i>
        </a>
    </div>

     <!-- sliding photo frame -->
     <div id="slider" class="slider">
        <div id="sliderScroll" class="sliderScroll">
            <div id="sliderMain" class="sliderMain">
                <div class="item">
                    <a href="#">
                        <img src="img/examplePic/image1.png" alt="">
                    </a>
                </div>
                <div class="item">
                    <a href="#">
                        <img src="img/examplePic/image2.png" alt="">
                    </a>
                </div>
                <div class="item">
                    <a href="#">
                        <img src="img/examplePic/image3.png" alt="">
                    </a>
                </div>
                <div class="item">
                    <a href="#">
                        <img src="img/examplePic/image4.png" alt="">
                    </a>
                </div>
                <div class="item">
                    <a href="#">
                        <img src="img/examplePic/image5.png" alt="">
                    </a>
                </div>
                <div class="item">
                    <a href="#">
                        <img src="img/examplePic/image6.png" alt="">
                    </a>
                </div>
            </div>

            <!-- prev&next cursor -->
            <span id="next" class="next">&#10095;</span>
            <span id="prev" class="prev">&#10094;</span>
        </div>

        <!-- photo index pointer -->
        <div id="sliderIndex" class="sliderIndex"></div>
    </div>

    <script>
        const sliderMain = document.querySelector('.sliderMain');
        const items = document.querySelectorAll('.item');
        const prevBtn = document.querySelector('.prev');
        const nextBtn = document.querySelector('.next');
        const sliderIndex = document.querySelector('.sliderIndex');
        
        let currentIndex = 0;
        let isDragging = false;
        let startPosX = 0;
        let currentTranslate = 0;
        
        function updateIndexIndicator() {
            const indexIndicators = document.querySelectorAll('.sliderIndex .index');
            indexIndicators.forEach((indicator, index) => {
                if (index === currentIndex) {
                    indicator.classList.add('currentIndex');
                } else {
                    indicator.classList.remove('currentIndex');
                }
            });
        }
        
        function slideTo(index) {
            currentIndex = index;
            const offset = currentIndex * -100;
            currentTranslate = offset;
            sliderMain.style.transition = 'left 0.5s ease-in-out';
            sliderMain.style.left = currentTranslate + '%';
            updateIndexIndicator();
        }
        
        function loopSlide(direction) {
            if (direction === 'next') {
                currentIndex = (currentIndex + 1) % items.length;
            } else if (direction === 'prev') {
                currentIndex = (currentIndex - 1 + items.length) % items.length;
            }
            slideTo(currentIndex);
        }
        
        prevBtn.addEventListener('click', () => {
            loopSlide('prev');
            resetAutoLoopInterval();
        });
        
        nextBtn.addEventListener('click', () => {
            loopSlide('next');
            resetAutoLoopInterval();
        });
        
        // Rest of your touch event code
        
        // Initialize index indicators and set initial positions
        for (let i = 0; i < items.length; i++) {
            const indexIndicator = document.createElement('div');
            indexIndicator.classList.add('index');
            indexIndicator.addEventListener('click', () => slideTo(i));
            sliderIndex.appendChild(indexIndicator);
            
            // Set initial position of each item
            items[i].style.left = i * 100 + '%';
        }
        updateIndexIndicator();
        
        // Auto loop through images
        let autoLoopInterval = startAutoLoopInterval();

        function startAutoLoopInterval() {
            return setInterval(() => {
                loopSlide('next');
            }, 3000); // Change the interval duration as needed
        }
        
        function resetAutoLoopInterval() {
            clearInterval(autoLoopInterval);
            autoLoopInterval = startAutoLoopInterval();
        }
        
        sliderMain.addEventListener('touchstart', () => {
            clearInterval(autoLoopInterval);
        });
        
        sliderMain.addEventListener('touchend', () => {
            resetAutoLoopInterval();
        });
    </script>
</body>
</html>